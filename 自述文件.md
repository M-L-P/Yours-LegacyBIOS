[English](README.md)|[简体中文](自述文件.md)|[繁體中文](繁體中文.md)
--|--|--
# Yours-LegacyBIOS
Your own usual rEFInd's sign for LegacyBIOS.<br/>
依赖于 [CloverBootloader](https://github.com/CloverHackyColor/CloverBootloader) 的 DUET，Legacy BIOS 能够运行 rEFInd。<br/>
它能够拯救你的旧电脑，使其支持 64位 的 UEFI，化腐朽为神奇。
#### 你的设备满足以下情况中的一种，
- 不支持 64bit UEFI，
- - 支持 32bit UEFI；
- - 仅支持 Legacy BIOS，不支持 UEFI；
- GPU/vBIOS 不支持 UEFI；(如下图)<br/>
![image](https://user-images.githubusercontent.com/69227436/213923710-120c5a02-30ea-4005-b2fe-c8e9adc7b6d7.png)
- GPT 磁盘；
- 内置 SATA 硬盘, 并非 NVMe 或 USB 的；
- - 似乎 CloverBootloader 的 DUET 仅支持 SATA，不支持 NVMe 或 USB；
#### 工作原理
[Power On]=>[Legacy BIOS]=>[MBR]=>[PBR]=>[`boot`]=>[`CLOVERX64.EFI`(`refind_x64.efi` renamed)]=>[Yours]
#### 文件结构树状图
<img src="README/Yours-LegacyBIOS.png">

## 💻️预览👀

<details>
<summary>🖱️点击展开查看🖱️</summary>

<img src="README/about.duet.png">
</details>

## 🧭指南⬇️

<details>
<summary>🖱️点击展开查看🖱️</summary>

需要使用 [DiskGenius](https://www.diskgenius.com/) 和 BOOTICE。
### 转化 MBR 为 GPT
__注意__: 所有文件是为 GPT 分区表准备的，因为我不使用 MBR 分区表。<br/>
如果你的硬盘已经是 GPT 的，你要 __跳过__ 这个步骤。
<details>
<summary>🖱️点击展开查看🖱️</summary>
https://www.diskgenius.com/manual/convert-partition-table-style.php

![image](https://github.com/M-L-P/Yours-LegacyBIOS/assets/69227436/93246cd8-f616-43c7-a5ac-8ca224ef8fb0)
</details>

### 覆盖引导记录

<details>
<summary>🖱️点击展开查看🖱️</summary>

#### 备份 EFI 文件
- 打开 DiskGenius；
- 把 ESP分区 中的所有的文件 复制到其他你想要的位置；
#### 格式化 ESP 成 FAT32
- 打开 DiskGenius；
- 格式化 ESP 成 FAT32(Basic data partition)；
- - 或者 在第一个分区前面 创建一个 FAT32 分区。
#### 覆盖 MBR 和 PBR
- 打开 BOOTICE;
- `zip: Boot_Record\MBR.bin` covers MBR of Internal SATA disk;<br/>
  ![mbr](https://github.com/M-L-P/Yours-LegacyBIOS/assets/69227436/af8d8cb4-3e10-48a8-ab06-71a8e69ed3ba)

- `zip: Boot_Record\PBR.bin` covers PBR of that FAT32;<br/>
  ![pbr](https://github.com/M-L-P/Yours-LegacyBIOS/assets/69227436/a2a6f8f1-6b28-48a3-90fc-b7ed140adc86)

#### 把 FAT32 变成 ESP
- 打开 DiskGenius;
- [编辑分区参数](https://www.diskgenius.com/manual/modify-partition-para.php), set the FAT32 as ESP;
- 命名为 `EFI system partition`(如下图)<br/>
![屏幕截图 2023-05-10 204425](https://github.com/M-L-P/Yours-LegacyBIOS/assets/69227436/2fb6df69-e8be-4b67-b00f-ebde03fa0538)
</details>

### 调整 ESP 分区

<details>
<summary>🖱️点击展开查看🖱️</summary>

#### 恢复 EFI 文件
- Restore EFI files from your backup into ESP.

#### Copy Yours in ESP
- Copy the file `zip: boot` into `ESP: \`;
- Copy the folder `zip: EFI\CLOVER` into `ESP: \EFI`;
- Copy the folder `zip: EFI\Yours` into `ESP: \EFI`;

#### For Hackintosh
If you want,
- graphical interface is going to be not interrupted by codes;
- CloverBootloader does not conflict with Yours;

You need to perform the following steps.
<details>
<summary>🖱️Click to Unfold to see🖱️</summary>

#### For OpenCore
- Set `LauncherOption=System` by editing `config.plist`;
- Cut your EFI files into `ESP: \EFI\Yours\efi\OC`;
- Edit `refind.conf` to enable `include /EFI/Yours/Settings/menuentry/examples/OpenCore.conf` with `#` deleted;

#### For CloverBootloader
- Cut your EFI files into `ESP: \EFI\Yours\efi\CLOVER`;
- Edit `refind.conf` to enable `include /EFI/Yours/Settings/menuentry/examples/CLOVER.conf` with `#` deleted;

</details>

</details>

</details>

## ⭐Star🌟
If you like it and are looking forward to the coming update, you can star it.💫

## 🎉Credit🎊
- [rEFInd Boot Manager](http://www.rodsbooks.com/refind/) of *Roderick W. Smith*;
- [grub2-filemanager
](https://github.com/a1ive/grub2-filemanager) of [a1ive](https://github.com/a1ive);
- DUET of [CloverBootloader](https://github.com/CloverHackyColor/CloverBootloader);
